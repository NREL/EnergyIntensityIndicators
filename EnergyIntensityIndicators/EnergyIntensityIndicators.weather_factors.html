

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Weather Factors &mdash; EnergyIntensityIndicators  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LMDI Prices" href="EnergyIntensityIndicators.lmdi_prices.html" />
    <link rel="prev" title="Get Census Data" href="EnergyIntensityIndicators.get_census_data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> EnergyIntensityIndicators
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="LMDI/lmdi.html">Core LMDI Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commercial/commercial.html">Commercial Sector Data Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Electricity/electricity.html">Electric Power Sector Data Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Industry/industry.html">Industrial Sector Data Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Residential/residential.html">Residential Sector Data Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Transportation/transportation.html">Transportation Sector Data Collection</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="supporting_files.html">Supporting Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="EnergyIntensityIndicators.pull_eia_api.html">Pull EIA API</a></li>
<li class="toctree-l2"><a class="reference internal" href="EnergyIntensityIndicators.pull_bea_api.html">Pull BEA API</a></li>
<li class="toctree-l2"><a class="reference internal" href="EnergyIntensityIndicators.get_census_data.html">Get Census Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Weather Factors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="EnergyIntensityIndicators.lmdi_prices.html">LMDI Prices</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EnergyIntensityIndicators</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="supporting_files.html">Supporting Files</a> &raquo;</li>
        
      <li>Weather Factors</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/EnergyIntensityIndicators/EnergyIntensityIndicators.weather_factors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-EnergyIntensityIndicators.weather_factors">
<span id="weather-factors"></span><h1>Weather Factors<a class="headerlink" href="#module-EnergyIntensityIndicators.weather_factors" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors">
<em class="property">class </em><code class="sig-prename descclassname">EnergyIntensityIndicators.weather_factors.</code><code class="sig-name descname">WeatherFactors</code><span class="sig-paren">(</span><em class="sig-param">sector</em>, <em class="sig-param">directory</em>, <em class="sig-param">activity_data=None</em>, <em class="sig-param">residential_floorspace=None</em>, <em class="sig-param">nominal_energy_intensity=None</em>, <em class="sig-param">end_year=2018</em>, <em class="sig-param">projections=False</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.adjust_data">
<em class="property">static </em><code class="sig-name descname">adjust_data</code><span class="sig-paren">(</span><em class="sig-param">subregions</em>, <em class="sig-param">hdd_by_division</em>, <em class="sig-param">hdd_activity_weights</em>, <em class="sig-param">cooling=True</em>, <em class="sig-param">cdd_by_division=None</em>, <em class="sig-param">cdd_activity_weights=None</em>, <em class="sig-param">use_weights_1961_90=True</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.adjust_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate weights for adjusted weather factors prediction</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.adjust_for_weather">
<code class="sig-name descname">adjust_for_weather</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">energy_type</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.adjust_for_weather" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust data by weather factors
:param data: dataset to adjust by weather
:type data: dataframe
:param energy_type:
:type energy_type: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>weather_adjusted_data</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.cbecs_1995_shares">
<em class="property">static </em><code class="sig-name descname">cbecs_1995_shares</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.cbecs_1995_shares" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate fuels and elec shares for the commercial sector from CBECS 1995 data</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.commercial_estimate_regional_floorspace">
<code class="sig-name descname">commercial_estimate_regional_floorspace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.commercial_estimate_regional_floorspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate regional floorspace for the commercial sector</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.commercial_regional_intensity_aggregate">
<code class="sig-name descname">commercial_regional_intensity_aggregate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.commercial_regional_intensity_aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Energy Intensities (kBtu/sq. ft.) by region and fuel type (i.e. Fuels and Electricity) for use
in calculating weather factors
:returns: ‘electricity’ and ‘fuels’, values: dataframes of intensity data for the commercial sector</p>
<blockquote>
<div><p>with Year index and Region columns</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary with keys</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.ensure_same_indices">
<code class="sig-name descname">ensure_same_indices</code><span class="sig-paren">(</span><em class="sig-param">df1</em>, <em class="sig-param">df2</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.ensure_same_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns two dataframes with the same indices
purpose: enable dataframe operations such as multiply and divide between the two dfs</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.estimate_regional_shares">
<code class="sig-name descname">estimate_regional_shares</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.estimate_regional_shares" title="Permalink to this definition">¶</a></dt>
<dd><p>Spreadsheet equivalent: Commercial –&gt; ‘Regional Shares’
assumed commercial floorspace in each region follows same trends as population or housing units</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.gather_weights_data">
<code class="sig-name descname">gather_weights_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.gather_weights_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate weights to aggregate subregions into four regions</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.get_weather">
<code class="sig-name descname">get_weather</code><span class="sig-paren">(</span><em class="sig-param">energy_dict=None</em>, <em class="sig-param">energy_type=None</em>, <em class="sig-param">energy_df=None</em>, <em class="sig-param">weather_adjust=False</em>, <em class="sig-param">seds_data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.get_weather" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect weather data by sector (commercial or residential)</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.heating_cooling_data">
<code class="sig-name descname">heating_cooling_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.heating_cooling_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect heating and cooling data (HDD, CDD)</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.heating_cooling_degree_days">
<em class="property">static </em><code class="sig-name descname">heating_cooling_degree_days</code><span class="sig-paren">(</span><em class="sig-param">type_day</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.heating_cooling_degree_days" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.national_method1_fixed_end_use_share_weights">
<code class="sig-name descname">national_method1_fixed_end_use_share_weights</code><span class="sig-paren">(</span><em class="sig-param">energy_type_</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.national_method1_fixed_end_use_share_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Used fixed weights to develop from regional factors, weighted by regional energy share from 1995 CBECS</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.national_method2_regression_models">
<code class="sig-name descname">national_method2_regression_models</code><span class="sig-paren">(</span><em class="sig-param">seds_data</em>, <em class="sig-param">weather_factors</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.national_method2_regression_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Second regression model</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.process_prices">
<code class="sig-name descname">process_prices</code><span class="sig-paren">(</span><em class="sig-param">weather_factors_df</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.process_prices" title="Permalink to this definition">¶</a></dt>
<dd><p>Process price data</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.recs_1993_shares">
<em class="property">static </em><code class="sig-name descname">recs_1993_shares</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.recs_1993_shares" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate fuels and elec shares for the residential sector from RECS 1993 data</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.regional_shares">
<code class="sig-name descname">regional_shares</code><span class="sig-paren">(</span><em class="sig-param">dataframe</em>, <em class="sig-param">cols</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.regional_shares" title="Permalink to this definition">¶</a></dt>
<dd><p>Calulate shares of regional totals by subregion</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.residential_regional_intensity_aggregate">
<code class="sig-name descname">residential_regional_intensity_aggregate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.residential_regional_intensity_aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does not need to exist if nominal_energy_intensity is properly formated, change formatting here if not
:returns: ‘electricity’ and ‘fuels’, values: dataframes of intensity data for the residential sector</p>
<blockquote>
<div><p>with Year index and Region columns
i.e. {‘fuels’: fuels_regional, ‘electricity’: elec_regional}</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary with keys</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.use_intersection">
<em class="property">static </em><code class="sig-name descname">use_intersection</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">intersection_</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.use_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return portion of dataframe with <a href="#id1"><span class="problematic" id="id2">intersection_</span></a> as index</p>
</dd></dl>

<dl class="method">
<dt id="EnergyIntensityIndicators.weather_factors.WeatherFactors.weather_factors">
<code class="sig-name descname">weather_factors</code><span class="sig-paren">(</span><em class="sig-param">region</em>, <em class="sig-param">energy_type</em>, <em class="sig-param">actual_intensity</em>, <em class="sig-param">weights_df</em>, <em class="sig-param">regional_weights</em><span class="sig-paren">)</span><a class="headerlink" href="#EnergyIntensityIndicators.weather_factors.WeatherFactors.weather_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate a simple regression model to fit the regional intensity to a linear function of time (included squared and cubed values of time) and degree days.
-electricity model: constant term, heating degree day (HDD), cooling degree day (CDD), time, time-squared, and time-cubed
-fuels model: contant term?, HDD, HDD*Time, Time, Time-squared and composite fuel price index (the composite fuel price index was developed as a weighted average of the national distillate</p>
<blockquote>
<div><p>fuel oil price index and a national average price for natural gas)</p>
</div></blockquote>
<p>Weather factors are applied at the regional level to generate the weather-normalized intensity indexes for each of the four Census regions</p>
<p>-The weather factors for delivered energy and source energy are computed implicitly. For delivered energy, they are calculated
as the sum of reported electricity and fuels divided by the sum of the weather-adjusted electricity and weather-adjusted fuels.
A similar procedure is followed for source energt. As such, the implied weather factors are a result of the process, not an independent
variable that influences the values of intensity indexes for delivered energy and source energy. All of these computation occur within Commercial_Total worksheet.</p>
<p>TODO: Input data</p>
</dd></dl>

</dd></dl>

<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="EnergyIntensityIndicators.lmdi_prices.html">LMDI Prices</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="EnergyIntensityIndicators.lmdi_prices.html" class="btn btn-neutral float-right" title="LMDI Prices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="EnergyIntensityIndicators.get_census_data.html" class="btn btn-neutral float-left" title="Get Census Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, NREL

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>